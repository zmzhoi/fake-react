{"version":3,"sources":["../../../src/libs/convert.ts","../../../src/fake-react/FakeReact.ts","../../../src/fake-react/Component.ts","../../../src/jsx-runtime/jsx-runtime.ts","../../components/Header.jsx","../../components/Template.jsx","../../components/Todo.jsx","../../components/Todos.jsx","../../App.jsx","../../index.tsx"],"sourcesContent":["export function camelCaseToDashCase(camelCase: string) {\n  return camelCase.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nexport function convertToInlineStyle(style: { [key: string]: string }) {\n  return Object.entries(style).reduce((acc, [attr, val]) => {\n    if (acc !== '') {\n      acc += ' ';\n    }\n\n    acc += `${camelCaseToDashCase(attr)}: ${val};`;\n    return acc;\n  }, '');\n}\n","import { convertToInlineStyle } from 'src/libs/convert';\nimport { ReactComponent, ReactElement, ReactProps } from '../jsx-runtime';\n\nexport function renderRoot(dom: ReactElement, root: HTMLElement) {\n  if (!root) {\n    throw new Error('Cannot find root element.');\n  }\n\n  const realDom = createRealDom(dom);\n  root.appendChild(realDom);\n}\n\nexport function createRealDom(virtualDom: ReactElement) {\n  if (virtualDom === null) {\n    return null;\n  }\n\n  let realDom: HTMLElement | Text;\n\n  if (typeof virtualDom === 'string') {\n    realDom = document.createTextNode(virtualDom);\n    return realDom;\n  }\n\n  const { type, props } = virtualDom;\n\n  if (type instanceof Function) {\n    const instance = new type(props);\n    instance.currentVirtualDom = instance.template() as ReactElement;\n    realDom = createRealDom(instance.currentVirtualDom);\n    instance.container = realDom as HTMLElement;\n  } else {\n    realDom = document.createElement(type);\n    setProps(realDom, props);\n    props.children.forEach((child) => {\n      const childRealDom = createRealDom(child);\n      realDom.appendChild(childRealDom);\n    });\n  }\n\n  return realDom;\n}\n\nexport function updateRealDom(\n  parent: HTMLElement,\n  nextVirtualDom: ReactElement,\n  currentVirutalDom: ReactElement,\n  index = 0,\n) {\n  if (nextVirtualDom && !currentVirutalDom) {\n    parent.appendChild(FakeReact.createRealDom(nextVirtualDom));\n  } else if (!nextVirtualDom && currentVirutalDom) {\n    parent.removeChild(parent.childNodes[index]);\n  } else if (isChanged(nextVirtualDom, currentVirutalDom)) {\n    parent.replaceChild(FakeReact.createRealDom(nextVirtualDom), parent.childNodes[index]);\n  } else if ((nextVirtualDom as ReactComponent)?.type) {\n    const _currentVirutalDom = currentVirutalDom as ReactComponent;\n    const _nextVirtualDom = nextVirtualDom as ReactComponent;\n    const maxLen = Math.max(\n      _nextVirtualDom.props.children.length,\n      _currentVirutalDom.props.children.length,\n    );\n\n    for (let i = 0; i < maxLen; i++) {\n      updateRealDom(\n        parent.childNodes[index] as HTMLElement,\n        _nextVirtualDom.props.children[i],\n        _currentVirutalDom.props.children[i],\n        i,\n      );\n    }\n  }\n}\n\nexport const FakeReact = {\n  renderRoot,\n  createRealDom,\n  updateRealDom,\n};\n\nfunction isChanged(nextVirtualDom: ReactElement, currentVirutalDom: ReactElement) {\n  if (typeof nextVirtualDom === 'string' && typeof currentVirutalDom === 'string') {\n    return nextVirtualDom !== currentVirutalDom;\n  }\n\n  if (nextVirtualDom === null && currentVirutalDom !== null) {\n    return true;\n  }\n\n  if (nextVirtualDom !== null && currentVirutalDom === null) {\n    return true;\n  }\n\n  if (typeof nextVirtualDom !== typeof currentVirutalDom) {\n    return true;\n  }\n\n  if ((nextVirtualDom as ReactComponent)?.props && (currentVirutalDom as ReactComponent)?.props) {\n    const currentProps = (currentVirutalDom as ReactComponent).props;\n    const nextProps = (nextVirtualDom as ReactComponent).props;\n\n    const currentPropsLength = Object.keys(currentProps).length;\n    const nextPropsLength = Object.keys(nextProps).length;\n\n    if (currentPropsLength !== nextPropsLength) {\n      return true;\n    } else {\n      for (const prop in currentProps) {\n        if (prop === 'children') {\n          continue;\n        }\n\n        if (!(prop in nextProps)) {\n          return true;\n        }\n\n        if (prop === 'style') {\n          if (convertToInlineStyle(currentProps[prop]) !== convertToInlineStyle(nextProps[prop])) {\n            return true;\n          }\n        } else {\n          if (currentProps[prop] !== nextProps[prop]) {\n            return true;\n          }\n        }\n      }\n    }\n  }\n\n  if ((nextVirtualDom as ReactComponent)?.type !== (currentVirutalDom as ReactComponent)?.type) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isEventProp(attr: string) {\n  return attr.startsWith('on');\n}\n\nfunction setProps(dom: HTMLElement, props: ReactProps) {\n  Object.keys(props).forEach((prop) => {\n    if (prop === 'children') {\n      return;\n    } else if (isEventProp(prop)) {\n      setEventListener(dom, prop, props[prop]);\n    } else if (prop === 'style') {\n      setAttribute(dom, prop, convertToInlineStyle(props[prop]));\n    } else {\n      setAttribute(dom, prop, props[prop]);\n    }\n  });\n}\n\nfunction setAttribute(dom: HTMLElement, attr: string, val: string) {\n  if (typeof val === 'boolean') {\n    if (val === true) {\n      dom.setAttribute(attr, 'true');\n      dom[attr] = true;\n    } else {\n      dom[attr] = false;\n    }\n  } else {\n    dom.setAttribute(attr, val);\n  }\n}\nfunction setEventListener(dom: HTMLElement, event: string, handler: () => void) {\n  const eventName = event.replace('on', '').toLowerCase();\n  dom.addEventListener(eventName, handler);\n  // if(eventName === 'change') {\n  //   input.dispatchEvent(new Event(\"change\"));\n  // } else {\n  //   dom.addEventListener(eventName, handler);\n  // }\n}\n","import type { ReactElement } from '../jsx-runtime';\nimport { updateRealDom } from './FakeReact';\n\nexport type SetStateFunction<S> = (previousState: S) => S;\n\nexport class Component<P = {}, S = {}> {\n  container?: HTMLElement;\n  props: P;\n  state: S;\n  mounted: boolean;\n  currentVirtualDom?: ReactElement;\n\n  constructor(props: P) {\n    this.props = props;\n    this.state = {} as S;\n    this.mounted = false;\n\n    this.init();\n  }\n\n  init() {}\n  didMount() {}\n  didUpdate() {}\n  template() {\n    return '';\n  }\n  setState(nextState: S) {\n    this.state = nextState;\n    this.rerender();\n  }\n  rerender() {\n    const currentVirtualDom = this.currentVirtualDom;\n    const nextVirtualDom = this.template();\n    const parent = this.container?.parentElement as HTMLElement;\n    const index = [...parent.childNodes].indexOf(this.container as HTMLElement);\n    updateRealDom(parent, nextVirtualDom, currentVirtualDom as ReactElement, index);\n    this.currentVirtualDom = nextVirtualDom;\n  }\n}\n","import { Component } from 'src/fake-react/Component';\n\nfunction handleChildren(children: string | number | any[] | null) {\n  if (Array.isArray(children)) {\n    return children.map((child) => {\n      return typeof child === 'number' ? String(child) : child;\n    });\n  } else if (typeof children === 'string' || typeof children === 'number') {\n    return [typeof children === 'number' ? String(children) : children];\n  } else {\n    return [];\n  }\n}\n\nexport function jsx(\n  type: keyof HTMLElementTagNameMap | Component,\n  props: {\n    [key: string]: any;\n    children: string | number | any[];\n  },\n) {\n  return {\n    type,\n    props: {\n      ...props,\n      children: handleChildren(props.children),\n    },\n  };\n}\nexport const jsxs = jsx;\n","import { Component } from '../../src';\n\nexport default class Header extends Component {\n  template() {\n    return (\n      <h1\n        style={{\n          background: '#3f51b5',\n          color: '#fffafa',\n          padding: '1.5rem',\n          fontWeight: '600',\n          fontSize: '2rem',\n          textAlign: 'center',\n          boxShadow: '0px 2px 8px 2px rgb(0 0 0 / 20%)',\n        }}\n      >\n        {this.props.children}\n      </h1>\n    );\n  }\n}\n","import { Component } from '../../src';\n\nexport default class Template extends Component {\n  template() {\n    return <div style={{ width: '100vw', height: '100vh' }}>{this.props.children}</div>;\n  }\n}\n","import { Component } from '../../src';\n\nexport default class Todo extends Component {\n  template() {\n    const { index, name, done, onToggle } = this.props;\n    return (\n      <li style={{ marginBottom: '1rem' }}>\n        <div\n          style={{\n            textDecoration: done ? 'line-through' : 'none',\n            display: 'inline-block',\n            marginRight: '1rem',\n          }}\n        >\n          {index + 1}. {name}\n        </div>\n        <button\n          style={{\n            color: 'white',\n            fontSize: '0.9rem',\n            background: done ? '#2196f3' : '#3f50b5',\n            border: 'none',\n            borderRadius: '3px',\n            padding: '6px 0',\n            boxSizing: 'border-box',\n            width: '85px',\n            cursor: 'pointer',\n          }}\n          onClick={() => onToggle(index)}\n        >\n          {done ? 'Redo' : 'Complete'}\n        </button>\n      </li>\n    );\n  }\n}\n","import { Component } from '../../src';\nimport Todo from './Todo';\n\nexport default class Todos extends Component {\n  init() {\n    this.state = {\n      keyword: '',\n      todos: [],\n    };\n  }\n\n  onToggle = (index) => {\n    this.setState({\n      ...this.state,\n      todos: this.state.todos.map((todo, i) =>\n        i === index ? { ...todo, done: !todo.done } : todo,\n      ),\n    });\n  };\n  onChange = (event) => {\n    const nextValue = event.target.value;\n    console.log(nextValue);\n    this.setState({\n      ...this.state,\n      keyword: nextValue,\n    });\n  };\n\n  onKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      if (event.target.value.trim() === '') {\n        alert('입력값이 없습니다.');\n        return;\n      }\n\n      this.setState({\n        keyword: '',\n        todos: this.state.todos.concat({ name: this.state.keyword, done: false }),\n      });\n    }\n  };\n  template() {\n    const { onChange, onKeyDown, onToggle } = this;\n    const { keyword, todos } = this.state;\n    const { title } = this.props;\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          minWidth: '300px',\n          width: '50vw',\n          margin: '1rem auto',\n        }}\n      >\n        <p\n          style={{\n            fontSize: '1.5rem',\n            width: '50vw',\n            textAlign: 'center',\n            borderBottom: '1px solid black',\n            paddingBottom: '0.5rem',\n          }}\n        >\n          {title}\n        </p>\n        <input\n          type=\"text\"\n          value={keyword}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n          style={{\n            padding: '7px 12px',\n            border: '1px solid #bdbdbd',\n            borderRadius: '4px',\n            fontSize: '1rem',\n            fontWeight: '500',\n            margin: '1rem 0',\n          }}\n        />\n        <ul style={{ padding: '1rem', width: '100%' }}>\n          {\n            todos.map(({ name, done }, index) => (\n              <Todo\n                index={index}\n                name={name}\n                done={done}\n                onToggle={onToggle} //\n              />\n            )) //\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n","import { Component } from '../src';\nimport Header from './components/Header';\nimport Template from './components/Template';\nimport Todos from './components/Todos';\n\nexport default class App extends Component {\n  init() {\n    this.state = {\n      count: 0,\n    };\n  }\n  template() {\n    return (\n      <Template>\n        <Header>Todo app using fake-react</Header>\n        <Todos title=\"To-do\" />\n        <div>{this.state.count}</div>\n        <button onClick={() => this.setState({ count: this.state.count + 1 })}></button>\n      </Template>\n    );\n  }\n}\n","import { renderRoot } from '../src';\nimport App from './App';\n\nconst root = document.getElementById('root') as HTMLElement;\nrenderRoot(<App />, root);\n"],"mappings":"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","names":["root"]}